window.renderHeatmap=function(r){const e=document.getElementById('heatmap');if(!e)return;const t=new Map((r||[]).map(r=>[r.date,r.present]));const n=new Date;const a=new Date;a.setDate(a.getDate()-180);const d=[];for(let r=new Date(a);r<=n;r.setDate(r.getDate()+1)){const e=r.toISOString().slice(0,10);const n=t.get(e)?1:0;d.push({date:e,v:n})}e.innerHTML=d.map(({date:r,v:e})=>`<div class="cell v${e}" title="${r} â€” ${e?'Present':'Absent'}"></div>`).join('')}